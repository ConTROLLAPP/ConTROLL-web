@app.route('/alias_tools', methods=['GET', 'POST'])
def alias_tools():
    if request.method == 'POST':
        handle = request.form.get('handle')
        location = request.form.get('location')
        platform = request.form.get('platform')
        review_text = request.form.get('review_text')

        try:
            mri_results = enhanced_mri_scan(
                alias=handle,
                location=location,
                platform=platform,
                review=review_text,
                verbose=True
            )
        except Exception as e:
            mri_results = {
                'error': str(e),
                'trace': traceback.format_exc()
            }

        # üîç Debug print for Render logs
        print("üî¨ MRI SCAN RESULT:", json.dumps(mri_results, indent=2))

        return render_template('alias_tools.html', results=mri_results)

    return render_template('alias_tools.html')
